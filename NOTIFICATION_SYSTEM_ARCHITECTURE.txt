ProxPanel Update Notification System - Architecture Diagram
===========================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚                     LICENSE SERVER (109.110.185.33)                         â”‚
â”‚                                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚                     ADMIN PANEL (React)                          â”‚     â”‚
â”‚  â”‚                                                                  â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚     â”‚
â”‚  â”‚  â”‚  Updates Page                                          â”‚     â”‚     â”‚
â”‚  â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚     â”‚     â”‚
â”‚  â”‚  â”‚  Version      Status      Actions                     â”‚     â”‚     â”‚
â”‚  â”‚  â”‚  v1.0.182     Published    [ Notify Customers ] â—„â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€ Click
â”‚  â”‚  â”‚  v1.0.181     Published    [ Notify Customers ]       â”‚     â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚     â”‚
â”‚  â”‚                                                                  â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚     â”‚
â”‚  â”‚  â”‚  NotifyModal                                           â”‚     â”‚     â”‚
â”‚  â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚     â”‚     â”‚
â”‚  â”‚  â”‚  Priority:    â—‰ Critical  â—‹ Important  â—‹ Info         â”‚     â”‚     â”‚
â”‚  â”‚  â”‚  Subject:     [Critical Update - v1.0.182          ]   â”‚     â”‚     â”‚
â”‚  â”‚  â”‚  Message:     [This update fixes...               ]   â”‚     â”‚     â”‚
â”‚  â”‚  â”‚  Filter:      â—‰ All  â—‹ Tier  â—‹ Outdated              â”‚     â”‚     â”‚
â”‚  â”‚  â”‚  Channels:    â˜‘ Email  â˜ SMS  â˜‘ In-App               â”‚     â”‚     â”‚
â”‚  â”‚  â”‚                                                        â”‚     â”‚     â”‚
â”‚  â”‚  â”‚  [ Cancel ]  [ Send Notifications ] â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€ Click
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                 â”‚                                          â”‚
â”‚                                 â”‚ POST /api/v1/admin/updates/v1.0.182/notify
â”‚                                 â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚             NOTIFICATION HANDLER (Go)                            â”‚     â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚     â”‚
â”‚  â”‚  SendUpdateNotification()                                        â”‚     â”‚
â”‚  â”‚    â”œâ”€ Query customers (filter by tier/version)                  â”‚     â”‚
â”‚  â”‚    â”œâ”€ Create notification records                               â”‚     â”‚
â”‚  â”‚    â””â”€ Send emails asynchronously â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚     â”‚
â”‚  â”‚                                             â”‚                    â”‚     â”‚
â”‚  â”‚  sendEmailNotification()                    â”‚                    â”‚     â”‚
â”‚  â”‚    â”œâ”€ Get SMTP settings                    â”‚                    â”‚     â”‚
â”‚  â”‚    â”œâ”€ Build HTML email template            â”‚                    â”‚     â”‚
â”‚  â”‚    â””â”€ Send via SMTP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”                 â”‚     â”‚
â”‚  â”‚                                             â”‚  â”‚                 â”‚     â”‚
â”‚  â”‚  GetNotificationStatus()                    â”‚  â”‚                 â”‚     â”‚
â”‚  â”‚    â””â”€ Return delivery statistics            â”‚  â”‚                 â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                 â”‚               â”‚  â”‚                       â”‚
â”‚                                 â–¼               â”‚  â”‚                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚             DATABASE (PostgreSQL)                                 â”‚     â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚     â”‚
â”‚  â”‚  update_notifications                                             â”‚     â”‚
â”‚  â”‚  â”œâ”€ id, update_id, license_id, customer_id                        â”‚     â”‚
â”‚  â”‚  â”œâ”€ notification_type (email/sms/in-app)                          â”‚     â”‚
â”‚  â”‚  â”œâ”€ status (pending/sent/failed/read)                             â”‚     â”‚
â”‚  â”‚  â”œâ”€ sent_at, read_at, error_message                               â”‚     â”‚
â”‚  â”‚  â””â”€ timestamps                                                    â”‚     â”‚
â”‚  â”‚                                                                   â”‚     â”‚
â”‚  â”‚  system_preferences (SMTP settings)                               â”‚     â”‚
â”‚  â”‚  â”œâ”€ smtp_host, smtp_port, smtp_user                               â”‚     â”‚
â”‚  â”‚  â””â”€ smtp_password, smtp_from, smtp_encryption                     â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                             â”‚
â”‚                                 â”‚                                           â”‚
â”‚                                 â”‚                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â”‚ HTTPS API Calls
                                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                         â”‚                            â”‚
        â–¼                         â–¼                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SMTP Server     â”‚   â”‚  Customer 1       â”‚   â”‚  Customer 2       â”‚
â”‚                   â”‚   â”‚  (10.0.0.175)     â”‚   â”‚  (10.0.0.203)     â”‚
â”‚  smtp.gmail.com   â”‚   â”‚                   â”‚   â”‚                   â”‚
â”‚  Port 587         â”‚   â”‚  ProxPanel        â”‚   â”‚  ProxPanel        â”‚
â”‚                   â”‚   â”‚                   â”‚   â”‚                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Send Emails  â”‚ â”‚   â”‚  â”‚ Dashboard    â”‚â”‚   â”‚  â”‚ Dashboard    â”‚â”‚
â”‚  â”‚ Queue: 50    â”‚ â”‚   â”‚  â”‚              â”‚â”‚   â”‚  â”‚              â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚   â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚
â”‚                   â”‚   â”‚  â”‚ â”‚ Banner   â”‚ â”‚â”‚   â”‚  â”‚ â”‚ Banner   â”‚ â”‚â”‚
â”‚  Delivers to:     â”‚   â”‚  â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚â”‚   â”‚  â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚â”‚
â”‚  â””â”€ customer@1.comâ”œâ”€â”€â–ºâ”‚  â”‚ â”‚ ğŸ”” Updateâ”‚ â”‚â”‚   â”‚  â”‚ â”‚ ğŸ”” Updateâ”‚ â”‚â”‚
â”‚  â””â”€ customer@2.comâ”œâ”€â”€â”€â”¼â”€â”€â”¤ â”‚ v1.0.182 â”‚ â”‚â”‚   â”‚  â”‚ â”‚ v1.0.182 â”‚ â”‚â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚ â”‚          â”‚ â”‚â”‚   â”‚  â”‚ â”‚          â”‚ â”‚â”‚
                        â”‚  â”‚ â”‚ [Update] â”‚ â”‚â”‚   â”‚  â”‚ â”‚ [Dismiss]â”‚ â”‚â”‚
                        â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚   â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚
                        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
                        â”‚         â”‚         â”‚   â”‚         â”‚        â”‚
                        â”‚         â”‚ Poll    â”‚   â”‚         â”‚ Poll   â”‚
                        â”‚         â–¼ /api/   â”‚   â”‚         â–¼ /api/  â”‚
                        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
                        â”‚  â”‚ API Handler  â”‚â”‚   â”‚  â”‚ API Handler  â”‚â”‚
                        â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”‚   â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”‚
                        â”‚  â”‚ GetPending  â”‚â”‚   â”‚  â”‚ GetPending  â”‚â”‚
                        â”‚  â”‚ MarkRead    â”‚â”‚   â”‚  â”‚ MarkRead    â”‚â”‚
                        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
                        â”‚         â”‚         â”‚   â”‚         â”‚        â”‚
                        â”‚         â”‚ Forward â”‚   â”‚         â”‚ Forwardâ”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚                       â”‚
                                  â–¼                       â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  LICENSE SERVER                 â”‚
                        â”‚  GET /api/v1/license/           â”‚
                        â”‚      notifications/pending      â”‚
                        â”‚  (requires license key header)  â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


DATA FLOW DIAGRAM
=================

1. ADMIN SENDS NOTIFICATION
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

   Admin Panel
       â”‚
       â”‚ 1. Click "Notify Customers"
       â”‚ 2. Fill form (priority, subject, message)
       â”‚ 3. Select filter (all/tier/outdated)
       â”‚ 4. Choose channels (email, SMS, in-app)
       â”‚ 5. Click "Send"
       â–¼
   Notification Handler
       â”‚
       â”‚ 6. Query customers based on filter
       â”‚    Example: All customers with version < 1.0.182
       â”‚    Result: 50 customers found
       â–¼
   Database
       â”‚
       â”‚ 7. Create 150 notification records
       â”‚    (50 customers Ã— 3 channels = 150 records)
       â”‚    Status: pending
       â–¼
   Background Process
       â”‚
       â”‚ 8. Send emails asynchronously (30 sec)
       â”‚ 9. Update status: sent/failed
       â”‚10. Set sent_at timestamp
       â–¼
   Admin Panel
       â”‚
       â”‚11. Show delivery status
       â”‚    Total: 150
       â”‚    Sent: 147 (98%)
       â”‚    Failed: 3 (2%)


2. CUSTOMER RECEIVES NOTIFICATION
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

   Email (Immediate)
       â”‚
       â”‚ 1. Customer receives email
       â”‚ 2. Opens email
       â”‚ 3. Reads update information
       â”‚ 4. Clicks "Update Now" button
       â–¼
   ProxPanel Dashboard
       â”‚
       â”‚ 5. Opens Settings â†’ License
       â”‚ 6. Clicks "Check for Updates"
       â”‚ 7. Sees v1.0.182 available
       â”‚ 8. Clicks "Install Update"
       â”‚ 9. System updates automatically

   In-App Banner (Within 5 minutes)
       â”‚
       â”‚ 1. Customer logs into ProxPanel
       â”‚ 2. Frontend polls /api/notifications/updates/pending
       â”‚ 3. API forwards to license server
       â”‚ 4. License server returns unread notifications
       â”‚ 5. Banner appears at top of dashboard
       â–¼
   Banner Actions
       â”‚
       â”œâ”€â–º Click "Update Now"
       â”‚       â””â”€â–º Navigate to Settings â†’ License
       â”‚           â””â”€â–º (same flow as email above)
       â”‚
       â””â”€â–º Click "Dismiss"
               â””â”€â–º API call: POST /api/notifications/:id/read
                   â””â”€â–º License server marks as read
                       â””â”€â–º Banner disappears


EMAIL TEMPLATE STRUCTURE
========================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Gradient Header - Purple]                â”‚
â”‚  ProxPanel Update Available                â”‚
â”‚                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                            â”‚
â”‚  Hello, Customer Name                      â”‚
â”‚                                            â”‚
â”‚  [CRITICAL] â† Red badge                    â”‚
â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Update Details                       â”‚ â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚
â”‚  â”‚ Version: v1.0.182                    â”‚ â”‚
â”‚  â”‚ Released: February 7, 2026           â”‚ â”‚
â”‚  â”‚ Description:                         â”‚ â”‚
â”‚  â”‚ This update fixes critical security  â”‚ â”‚
â”‚  â”‚ vulnerabilities. Please update...    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚       [ Update Now ]                 â”‚ â”‚ â† Big purple button
â”‚  â”‚     (links to customer's ProxPanel)  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ How to Update:                       â”‚ â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚
â”‚  â”‚ 1. Log in to ProxPanel               â”‚ â”‚
â”‚  â”‚ 2. Navigate to Settings â†’ License    â”‚ â”‚
â”‚  â”‚ 3. Click "Check for Updates"         â”‚ â”‚
â”‚  â”‚ 4. Click "Install Update"            â”‚ â”‚
â”‚  â”‚ 5. System updates automatically      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Gray Footer]                             â”‚
â”‚  Support: support@proxpanel.com            â”‚
â”‚  Â© 2026 ProxPanel. All rights reserved.    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


NOTIFICATION BANNER STRUCTURE
==============================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ””  Update Available: v1.0.182  [CRITICAL]                      â”‚
â”‚                                                                  â”‚
â”‚  This update fixes critical security vulnerabilities.           â”‚
â”‚  Please update immediately to protect your system.              â”‚
â”‚                                                                  â”‚
â”‚  [ ğŸ”„ Update Now ]    [ Dismiss ]                       [âœ•]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Color Coding:
- Critical:  Red background
- Important: Orange background
- Info:      Blue background


PERFORMANCE METRICS
===================

Email Sending (Async Background):
  10 customers:   ~5 seconds
  50 customers:   ~30 seconds
  100 customers:  ~1 minute
  500 customers:  ~5 minutes

Database Queries:
  Insert notifications: <1 second (batch insert)
  Query pending:        <100ms (indexed)
  Mark as read:         <50ms (single update)

Frontend Polling:
  Interval:         5 minutes
  Request size:     ~1KB
  Response time:    <200ms
  Server load:      Minimal (1 query per user per 5 min)

SMTP Rate Limits:
  Gmail:            100 emails/minute
  SendGrid:         100+ emails/second
  AWS SES:          1+ email/second (adjustable)


SECURITY LAYERS
===============

1. Authentication
   â”œâ”€ Admin: JWT token required
   â”œâ”€ Customer: JWT token required
   â””â”€ License Server: License key header required

2. Authorization
   â”œâ”€ Admin only can send notifications
   â”œâ”€ Customers only see their notifications
   â””â”€ Permission checks on all routes

3. Data Protection
   â”œâ”€ SMTP password encrypted in database
   â”œâ”€ All API communication over HTTPS
   â”œâ”€ SQL injection protection (parameterized queries)
   â””â”€ XSS protection (escaped HTML)

4. Rate Limiting
   â”œâ”€ API endpoints: 300 req/min per IP
   â”œâ”€ Email sending: Respects SMTP limits
   â””â”€ Database queries: Connection pooling

5. Audit Logging
   â”œâ”€ All notification sends logged
   â”œâ”€ Failed deliveries logged with error
   â””â”€ Customer read actions logged


MONITORING CHECKLIST
=====================

Metrics to Track:
  âœ“ Email delivery rate (target: >95%)
  âœ“ Failed notifications count
  âœ“ Average delivery time
  âœ“ Customer engagement (read rate)
  âœ“ Dismiss rate
  âœ“ SMTP errors
  âœ“ API response times
  âœ“ Database query performance

Alerts to Configure:
  ! Email delivery rate < 90%
  ! SMTP connection failures
  ! Database connection errors
  ! API response time > 1 second
  ! Failed notifications > 5%

Logs to Monitor:
  - License server: /var/log/proxpanel-license/
  - Customer API: docker logs proxpanel-api
  - SMTP: Check provider dashboard
  - Database: PostgreSQL slow query log


DEPLOYMENT CHECKLIST
=====================

License Server:
  [ ] Copy notification handler files
  [ ] Run database migration
  [ ] Add routes to main.go
  [ ] Configure SMTP settings
  [ ] Rebuild and restart
  [ ] Test endpoints respond
  [ ] Send test email

Customer ProxPanel:
  [ ] Run database migration
  [ ] Rebuild backend with new routes
  [ ] Rebuild frontend with banner
  [ ] Deploy to production
  [ ] Restart services
  [ ] Test banner appears
  [ ] Test dismiss works

Admin UI:
  [ ] Create NotifyModal component
  [ ] Create StatusModal component
  [ ] Update Updates.jsx
  [ ] Update api.js
  [ ] Rebuild admin panel
  [ ] Test modal opens
  [ ] Test form submission

End-to-End:
  [ ] Admin sends test notification
  [ ] Email received
  [ ] Banner appears on customer dashboard
  [ ] "Update Now" button works
  [ ] Dismiss button works
  [ ] Status view shows correct data


SUPPORT DOCUMENTATION
======================

For Customers:
  Q: How do I update?
  A: Settings â†’ License â†’ Check for Updates â†’ Install

  Q: How do I dismiss the banner?
  A: Click the "Dismiss" button or âœ• icon

  Q: I don't want email notifications
  A: Contact support to adjust preferences

For Admins:
  Q: How do I send a notification?
  A: Updates page â†’ Click "Notify Customers" on update

  Q: How do I retry failed notifications?
  A: View Status â†’ Click "Retry Failed"

  Q: How do I test SMTP?
  A: Settings â†’ Notifications â†’ Test Email


CONTACT & SUPPORT
=================

Developer:           Claude Sonnet 4.5
Implementation Date: February 7, 2026
License Server:      109.110.185.33
Development Server:  109.110.185.115
Email Support:       support@proxpanel.com
Documentation:       /root/proisp/NOTIFICATION_SYSTEM_*.md

