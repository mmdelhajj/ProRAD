import{u as e,d as s,j as l}from"./data-vendor-C6mPcuPT.js";import{r as a}from"./react-vendor-C4Xey-hE.js";import{f as r,P as t,Q as i,c as n,h as o,e as d,w as c,R as u,a as m,J as x,q as h,y as b,i as g,r as p}from"./index-DmOIf-MM.js";import{u as v,f,a as y}from"./table-vendor-BZVOk-Gl.js";import{z as j}from"./ui-vendor-CMKyyIMz.js";import{F as w,a as N,b as k}from"./FunnelIcon-CqzGRNnT.js";import{F as _}from"./CircleStackIcon-BYoQb8kr.js";import{F as C}from"./EyeIcon-CLCqJwk9.js";import"./chart-vendor-Be69IwoK.js";function S({title:e,titleId:s,...l},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},l),e?a.createElement("title",{id:s},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const E=a.forwardRef(S);function A({title:e,titleId:s,...l},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},l),e?a.createElement("title",{id:s},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const q=a.forwardRef(A);function P({title:e,titleId:s,...l},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},l),e?a.createElement("title",{id:s},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"}))}const F=a.forwardRef(P);function R({title:e,titleId:s,...l},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},l),e?a.createElement("title",{id:s},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 14.25h13.5m-13.5 0a3 3 0 0 1-3-3m3 3a3 3 0 1 0 0 6h13.5a3 3 0 1 0 0-6m-16.5-3a3 3 0 0 1 3-3h13.5a3 3 0 0 1 3 3m-19.5 0a4.5 4.5 0 0 1 .9-2.7L5.737 5.1a3.375 3.375 0 0 1 2.7-1.35h7.126c1.062 0 2.062.5 2.7 1.35l2.587 3.45a4.5 4.5 0 0 1 .9 2.7m0 0a3 3 0 0 1-3 3m0 3h.008v.008h-.008v-.008Zm0-6h.008v.008h-.008v-.008Zm-3 6h.008v.008h-.008v-.008Zm0-6h.008v.008h-.008v-.008Z"}))}const T=a.forwardRef(R);function L(){var S,A;const[P,R]=a.useState({reseller_id:0,service_id:0,status_filter:"all",include_sub_resellers:!1}),[L,M]=a.useState(""),[I,B]=a.useState(""),[K,O]=a.useState([]),[D,V]=a.useState({field:"username",rule:"like",value:""}),[z,U]=a.useState(null),[W,Z]=a.useState(0),[$,G]=a.useState(1),[H,Q]=a.useState(50),[Y,J]=a.useState(!1),{data:X}=e({queryKey:["services"],queryFn:()=>g.list().then(e=>e.data.data||[])}),{data:ee}=e({queryKey:["resellers"],queryFn:()=>p.list().then(e=>e.data.data||[])}),se=s({mutationFn:e=>b.post(`/subscribers/change-bulk?page=${$}&limit=${H}`,{...e,preview:!0}),onSuccess:e=>{var s;U(e.data.data||[]),Z((null==(s=e.data.meta)?void 0:s.total)||0)},onError:e=>{var s,l;return j.error((null==(l=null==(s=e.response)?void 0:s.data)?void 0:l.message)||"Failed to preview")}}),le=s({mutationFn:e=>b.post("/subscribers/change-bulk",{...e,preview:!1}),onSuccess:e=>{j.success(e.data.message||"Bulk action completed successfully"),U(null),Z(0),J(!1)},onError:e=>{var s,l;j.error((null==(l=null==(s=e.response)?void 0:s.data)?void 0:l.message)||"Failed to execute"),J(!1)}}),ae=()=>{D.value.trim()&&(O([...K,{...D}]),V({field:"username",rule:"like",value:""}))},re=()=>{const e={...P,action:L,action_value:I,filters:K};se.mutate(e)},te=a.useMemo(()=>[{accessorKey:"username",header:"Username"},{accessorKey:"full_name",header:"Name"},{accessorKey:"Reseller",header:"Reseller",cell:({row:e})=>{var s,l;return(null==(l=null==(s=e.original.Reseller)?void 0:s.User)?void 0:l.username)||"-"}},{accessorKey:"address",header:"Address"},{accessorKey:"price",header:"Price",cell:({getValue:e})=>{var s;return`$${(null==(s=e())?void 0:s.toFixed(2))||"0.00"}`}},{accessorKey:"phone",header:"Phone"},{accessorKey:"Service",header:"Service",cell:({row:e})=>{var s;return(null==(s=e.original.Service)?void 0:s.name)||"-"}},{accessorKey:"created_at",header:"Created",cell:({getValue:e})=>r(e())},{accessorKey:"expiry_date",header:"Expiry",cell:({getValue:e})=>r(e())}],[]),ie=v({data:z||[],columns:te,getCoreRowModel:y()}),ne=[{value:"",label:"Select an action...",icon:null},{value:"set_expiry",label:"Set Expiry Date",icon:d},{value:"set_service",label:"Change Service",icon:T},{value:"set_reseller",label:"Change Reseller",icon:c},{value:"set_active",label:"Activate Subscribers",icon:q},{value:"set_inactive",label:"Deactivate Subscribers",icon:F},{value:"set_monthly_quota",label:"Set Monthly Quota (GB)",icon:_},{value:"set_daily_quota",label:"Set Daily Quota (MB)",icon:_},{value:"set_price",label:"Set Price",icon:u},{value:"reset_mac",label:"Reset MAC Address",icon:m}],oe=[{value:"username",label:"Username"},{value:"expiry",label:"Expiry Date"},{value:"name",label:"Full Name"},{value:"address",label:"Address"},{value:"price",label:"Price"}],de=[{value:"equal",label:"= Equal"},{value:"notequal",label:"â‰  Not Equal"},{value:"greater",label:"> Greater Than"},{value:"less",label:"< Less Than"},{value:"like",label:"~ Contains"}];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl text-white",children:l.jsx(t,{className:"w-6 h-6"})}),"Bulk Operations"]}),l.jsx("p",{className:"text-gray-500 mt-1",children:"Apply changes to multiple subscribers at once"})]}),W>0&&l.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-50 border border-blue-200 rounded-lg",children:[l.jsx(i,{className:"w-5 h-5 text-blue-600"}),l.jsxs("span",{className:"text-blue-700 font-medium",children:[W," subscribers selected"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-gray-50 to-white border-b border-gray-200",children:l.jsxs("h2",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[l.jsx(w,{className:"w-5 h-5 text-gray-500"}),"Filter Subscribers"]})}),l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reseller"}),l.jsxs("select",{className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:P.reseller_id,onChange:e=>R({...P,reseller_id:parseInt(e.target.value)}),children:[l.jsx("option",{value:0,children:"All Resellers"}),null==ee?void 0:ee.map(e=>{var s;return l.jsx("option",{value:e.id,children:(null==(s=e.User)?void 0:s.username)||e.company_name},e.id)})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service"}),l.jsxs("select",{className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:P.service_id,onChange:e=>R({...P,service_id:parseInt(e.target.value)}),children:[l.jsx("option",{value:0,children:"All Services"}),null==X?void 0:X.map(e=>l.jsx("option",{value:e.id,children:e.name},e.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),l.jsxs("select",{className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:P.status_filter,onChange:e=>R({...P,status_filter:e.target.value}),children:[l.jsx("option",{value:"all",children:"All Statuses"}),l.jsx("option",{value:"active",children:"Active Only"}),l.jsx("option",{value:"inactive",children:"Inactive Only"}),l.jsx("option",{value:"active_inactive",children:"Active & Inactive"}),l.jsx("option",{value:"expired",children:"Expired Only"})]})]}),l.jsx("div",{className:"flex items-center",children:l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"sr-only peer",checked:P.include_sub_resellers,onChange:e=>R({...P,include_sub_resellers:e.target.checked})}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"}),l.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Include Sub-resellers"})]})})]})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-gray-50 to-white border-b border-gray-200",children:l.jsxs("h2",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[l.jsx(t,{className:"w-5 h-5 text-gray-500"}),"Advanced Filters"]})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex gap-3 items-end flex-wrap",children:[l.jsxs("div",{className:"flex-1 min-w-[140px]",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Field"}),l.jsx("select",{className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm",value:D.field,onChange:e=>V({...D,field:e.target.value}),children:oe.map(e=>l.jsx("option",{value:e.value,children:e.label},e.value))})]}),l.jsxs("div",{className:"flex-1 min-w-[140px]",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condition"}),l.jsx("select",{className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm",value:D.rule,onChange:e=>V({...D,rule:e.target.value}),children:de.map(e=>l.jsx("option",{value:e.value,children:e.label},e.value))})]}),l.jsxs("div",{className:"flex-1 min-w-[160px]",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Value"}),l.jsx("input",{type:"text",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm",value:D.value,onChange:e=>V({...D,value:e.target.value}),placeholder:"Enter value...",onKeyDown:e=>"Enter"===e.key&&ae()})]}),l.jsxs("button",{onClick:ae,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[l.jsx(n,{className:"w-4 h-4"}),"Add"]})]}),K.length>0&&l.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[l.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Active filters:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:K.map((e,s)=>{var a,r;return l.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-full text-sm",children:[l.jsx("span",{className:"font-medium text-blue-700",children:null==(a=oe.find(s=>s.value===e.field))?void 0:a.label}),l.jsx("span",{className:"text-blue-400",children:null==(r=de.find(s=>s.value===e.rule))?void 0:r.label.split(" ")[0]}),l.jsxs("span",{className:"font-semibold text-blue-900",children:['"',e.value,'"']}),l.jsx("button",{onClick:()=>{return e=s,void O(K.filter((s,l)=>l!==e));var e},className:"ml-1 text-blue-400 hover:text-red-500 transition-colors",children:l.jsx(o,{className:"w-4 h-4"})})]},s)})})]})]})]})]}),l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden sticky top-6",children:[l.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-purple-50 to-indigo-50 border-b border-gray-200",children:l.jsxs("h2",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[l.jsx(E,{className:"w-5 h-5 text-purple-500"}),"Action to Perform"]})}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Action"}),l.jsx("select",{className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",value:L,onChange:e=>{M(e.target.value),B("")},children:ne.map(e=>l.jsx("option",{value:e.value,children:e.label},e.value))})]}),L&&!["set_active","set_inactive","reset_mac"].includes(L)&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:null==(S=ne.find(e=>e.value===L))?void 0:S.label}),(()=>{switch(L){case"set_expiry":return l.jsx("input",{type:"date",className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:I,onChange:e=>B(e.target.value)});case"set_service":return l.jsxs("select",{className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:I,onChange:e=>B(e.target.value),children:[l.jsx("option",{value:"",children:"Select service..."}),null==X?void 0:X.map(e=>l.jsx("option",{value:e.id,children:e.name},e.id))]});case"set_reseller":return l.jsxs("select",{className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:I,onChange:e=>B(e.target.value),children:[l.jsx("option",{value:"",children:"Select reseller..."}),null==ee?void 0:ee.map(e=>{var s;return l.jsx("option",{value:e.id,children:(null==(s=e.User)?void 0:s.username)||e.company_name},e.id)})]});case"set_monthly_quota":return l.jsxs("div",{className:"relative mt-1",children:[l.jsx("input",{type:"number",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 pr-12",placeholder:"Enter quota",value:I,onChange:e=>B(e.target.value)}),l.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:"GB"})]});case"set_daily_quota":return l.jsxs("div",{className:"relative mt-1",children:[l.jsx("input",{type:"number",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 pr-12",placeholder:"Enter quota",value:I,onChange:e=>B(e.target.value)}),l.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:"MB"})]});case"set_price":return l.jsxs("div",{className:"relative mt-1",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),l.jsx("input",{type:"number",step:"0.01",className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 pl-7",placeholder:"0.00",value:I,onChange:e=>B(e.target.value)})]});default:return null}})()]}),L&&l.jsx("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(x,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),l.jsxs("p",{className:"text-sm text-amber-700",children:["set_active"===L&&"This will activate all matching subscribers.","set_inactive"===L&&"This will deactivate all matching subscribers.","set_expiry"===L&&"This will update the expiry date for all matching subscribers.","set_service"===L&&"This will change the service plan for all matching subscribers.","set_reseller"===L&&"This will transfer all matching subscribers to another reseller.","set_monthly_quota"===L&&"This will set the monthly quota limit for all matching subscribers.","set_daily_quota"===L&&"This will set the daily quota limit for all matching subscribers.","set_price"===L&&"This will update the price for all matching subscribers.","reset_mac"===L&&"This will reset the MAC address binding for all matching subscribers."]})]})}),l.jsxs("div",{className:"pt-4 space-y-3",children:[l.jsxs("button",{onClick:re,disabled:se.isPending,className:"w-full px-4 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center gap-2 font-medium disabled:opacity-50",children:[l.jsx(C,{className:"w-5 h-5"}),se.isPending?"Loading Preview...":"Preview Changes"]}),l.jsxs("button",{onClick:()=>{L?!["set_expiry","set_service","set_reseller","set_monthly_quota","set_daily_quota","set_price"].includes(L)||I?J(!0):j.error("Please enter a value for the action"):j.error("Please select an action")},disabled:!L||le.isPending,className:"w-full px-4 py-2.5 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:from-purple-700 hover:to-indigo-700 transition-all flex items-center justify-center gap-2 font-medium disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-purple-500/25",children:[(()=>{const e=ne.find(e=>e.value===L);if(null==e?void 0:e.icon){const s=e.icon;return l.jsx(s,{className:"w-5 h-5"})}return l.jsx(E,{className:"w-5 h-5"})})(),le.isPending?"Executing...":"Execute Action"]})]})]})]})})]}),z&&z.length>0&&l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[l.jsxs("div",{className:"px-6 py-4 bg-gradient-to-r from-green-50 to-emerald-50 border-b border-gray-200 flex items-center justify-between",children:[l.jsxs("h2",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[l.jsx(h,{className:"w-5 h-5 text-green-500"}),"Preview Results",l.jsxs("span",{className:"ml-2 px-2.5 py-0.5 bg-green-100 text-green-700 rounded-full text-sm font-medium",children:[W," subscribers"]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-sm text-gray-500",children:"Rows per page:"}),l.jsxs("select",{className:"rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm py-1",value:H,onChange:e=>{Q(parseInt(e.target.value)),G(1)},children:[l.jsx("option",{value:10,children:"10"}),l.jsx("option",{value:30,children:"30"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"})]})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:ie.getHeaderGroups().map(e=>l.jsx("tr",{children:e.headers.map(e=>l.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:f(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ie.getRowModel().rows.map((e,s)=>l.jsx("tr",{className:s%2==0?"bg-white":"bg-gray-50",children:e.getVisibleCells().map(e=>l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:f(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})}),W>H&&l.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",($-1)*H+1," to ",Math.min($*H,W)," of ",W," results"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",disabled:1===$,onClick:()=>{G($-1),setTimeout(re,0)},children:[l.jsx(N,{className:"w-4 h-4"}),"Previous"]}),l.jsxs("span",{className:"px-4 py-1.5 text-sm font-medium text-gray-700",children:["Page ",$," of ",Math.ceil(W/H)]}),l.jsxs("button",{className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",disabled:$>=Math.ceil(W/H),onClick:()=>{G($+1),setTimeout(re,0)},children:["Next",l.jsx(k,{className:"w-4 h-4"})]})]})]})]}),z&&0===z.length&&l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[l.jsx(i,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No subscribers found"}),l.jsx("p",{className:"text-gray-500",children:"Try adjusting your filters to match more subscribers."})]}),Y&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full overflow-hidden",children:[l.jsx("div",{className:"p-6 bg-gradient-to-r from-amber-50 to-orange-50 border-b border-amber-200",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-amber-100 rounded-full",children:l.jsx(x,{className:"w-6 h-6 text-amber-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Bulk Action"})]})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("p",{className:"text-gray-600 mb-4",children:["You are about to perform ",l.jsxs("span",{className:"font-semibold text-gray-900",children:['"',null==(A=ne.find(e=>e.value===L))?void 0:A.label,'"']})," on",l.jsxs("span",{className:"font-semibold text-blue-600",children:[" ",W||"all matching"," subscribers"]}),"."]}),l.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone. Are you sure you want to continue?"})]}),l.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex gap-3 justify-end",children:[l.jsx("button",{onClick:()=>J(!1),className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),l.jsx("button",{onClick:()=>{const e={...P,action:L,action_value:I,filters:K};le.mutate(e)},disabled:le.isPending,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium disabled:opacity-50 flex items-center gap-2",children:le.isPending?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Executing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(q,{className:"w-4 h-4"}),"Yes, Execute"]})})]})]})})]})}export{L as default};
