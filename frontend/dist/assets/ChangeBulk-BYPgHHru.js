import{u as e,d as r,j as a}from"./data-vendor-C6mPcuPT.js";import{r as s}from"./react-vendor-C4Xey-hE.js";import{f as l,P as t,Q as d,c as i,h as o,e as n,w as c,R as u,S as g,a as m,J as b,q as x,y as h,i as y,r as p}from"./index-BSg4AwxB.js";import{u as v,f,a as k}from"./table-vendor-BZVOk-Gl.js";import{z as j}from"./ui-vendor-CMKyyIMz.js";import{F as w,a as N,b as _}from"./FunnelIcon-CqzGRNnT.js";import{F as C}from"./CircleStackIcon-BYoQb8kr.js";import{F as S}from"./EyeIcon-CLCqJwk9.js";import"./chart-vendor-Be69IwoK.js";function E({title:e,titleId:r,...a},l){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},a),e?s.createElement("title",{id:r},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const A=s.forwardRef(E);function q({title:e,titleId:r,...a},l){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},a),e?s.createElement("title",{id:r},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"}))}const P=s.forwardRef(q);function F({title:e,titleId:r,...a},l){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},a),e?s.createElement("title",{id:r},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 14.25h13.5m-13.5 0a3 3 0 0 1-3-3m3 3a3 3 0 1 0 0 6h13.5a3 3 0 1 0 0-6m-16.5-3a3 3 0 0 1 3-3h13.5a3 3 0 0 1 3 3m-19.5 0a4.5 4.5 0 0 1 .9-2.7L5.737 5.1a3.375 3.375 0 0 1 2.7-1.35h7.126c1.062 0 2.062.5 2.7 1.35l2.587 3.45a4.5 4.5 0 0 1 .9 2.7m0 0a3 3 0 0 1-3 3m0 3h.008v.008h-.008v-.008Zm0-6h.008v.008h-.008v-.008Zm-3 6h.008v.008h-.008v-.008Zm0-6h.008v.008h-.008v-.008Z"}))}const R=s.forwardRef(F);function T(){var E,q;const[F,T]=s.useState({reseller_id:0,service_id:0,status_filter:"all",include_sub_resellers:!1}),[M,I]=s.useState(""),[K,L]=s.useState(""),[B,D]=s.useState([]),[O,V]=s.useState({field:"username",rule:"like",value:""}),[z,U]=s.useState(null),[Z,$]=s.useState(0),[G,W]=s.useState(1),[H,Q]=s.useState(50),[Y,J]=s.useState(!1),{data:X}=e({queryKey:["services"],queryFn:()=>y.list().then(e=>e.data.data||[])}),{data:ee}=e({queryKey:["resellers"],queryFn:()=>p.list().then(e=>e.data.data||[])}),re=r({mutationFn:e=>h.post(`/subscribers/change-bulk?page=${G}&limit=${H}`,{...e,preview:!0}),onSuccess:e=>{var r;U(e.data.data||[]),$((null==(r=e.data.meta)?void 0:r.total)||0)},onError:e=>{var r,a;return j.error((null==(a=null==(r=e.response)?void 0:r.data)?void 0:a.message)||"Failed to preview")}}),ae=r({mutationFn:e=>h.post("/subscribers/change-bulk",{...e,preview:!1}),onSuccess:e=>{j.success(e.data.message||"Bulk action completed successfully"),U(null),$(0),J(!1)},onError:e=>{var r,a;j.error((null==(a=null==(r=e.response)?void 0:r.data)?void 0:a.message)||"Failed to execute"),J(!1)}}),se=()=>{O.value.trim()&&(D([...B,{...O}]),V({field:"username",rule:"like",value:""}))},le=()=>{const e={...F,action:M,action_value:K,filters:B};re.mutate(e)},te=s.useMemo(()=>[{accessorKey:"username",header:"Username"},{accessorKey:"full_name",header:"Name"},{accessorKey:"Reseller",header:"Reseller",cell:({row:e})=>{var r,a;return(null==(a=null==(r=e.original.Reseller)?void 0:r.User)?void 0:a.username)||"-"}},{accessorKey:"address",header:"Address"},{accessorKey:"price",header:"Price",cell:({getValue:e})=>{var r;return`$${(null==(r=e())?void 0:r.toFixed(2))||"0.00"}`}},{accessorKey:"phone",header:"Phone"},{accessorKey:"Service",header:"Service",cell:({row:e})=>{var r;return(null==(r=e.original.Service)?void 0:r.name)||"-"}},{accessorKey:"created_at",header:"Created",cell:({getValue:e})=>l(e())},{accessorKey:"expiry_date",header:"Expiry",cell:({getValue:e})=>l(e())}],[]),de=v({data:z||[],columns:te,getCoreRowModel:k()}),ie=[{value:"",label:"Select an action...",icon:null},{value:"set_expiry",label:"Set Expiry Date",icon:n},{value:"set_service",label:"Change Service",icon:R},{value:"set_reseller",label:"Change Reseller",icon:c},{value:"set_active",label:"Activate Subscribers",icon:u},{value:"set_inactive",label:"Deactivate Subscribers",icon:P},{value:"set_monthly_quota",label:"Set Monthly Quota (GB)",icon:C},{value:"set_daily_quota",label:"Set Daily Quota (MB)",icon:C},{value:"set_price",label:"Set Price",icon:g},{value:"reset_mac",label:"Reset MAC Address",icon:m}],oe=[{value:"username",label:"Username"},{value:"expiry",label:"Expiry Date"},{value:"name",label:"Full Name"},{value:"address",label:"Address"},{value:"price",label:"Price"}],ne=[{value:"equal",label:"= Equal"},{value:"notequal",label:"â‰  Not Equal"},{value:"greater",label:"> Greater Than"},{value:"less",label:"< Less Than"},{value:"like",label:"~ Contains"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl text-white",children:a.jsx(t,{className:"w-6 h-6"})}),"Bulk Operations"]}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Apply changes to multiple subscribers at once"})]}),Z>0&&a.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 rounded-lg",children:[a.jsx(d,{className:"w-5 h-5 text-blue-600"}),a.jsxs("span",{className:"text-blue-700 font-medium",children:[Z," subscribers selected"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-gray-50 to-white dark:from-gray-700 dark:to-gray-800 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("h2",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[a.jsx(w,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),"Filter Subscribers"]})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Reseller"}),a.jsxs("select",{className:"block w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:focus:ring-blue-400",value:F.reseller_id,onChange:e=>T({...F,reseller_id:parseInt(e.target.value)}),children:[a.jsx("option",{value:0,children:"All Resellers"}),null==ee?void 0:ee.map(e=>{var r;return a.jsx("option",{value:e.id,children:(null==(r=e.User)?void 0:r.username)||e.company_name},e.id)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Service"}),a.jsxs("select",{className:"block w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:focus:ring-blue-400",value:F.service_id,onChange:e=>T({...F,service_id:parseInt(e.target.value)}),children:[a.jsx("option",{value:0,children:"All Services"}),null==X?void 0:X.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),a.jsxs("select",{className:"block w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:focus:ring-blue-400",value:F.status_filter,onChange:e=>T({...F,status_filter:e.target.value}),children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"active",children:"Active Only"}),a.jsx("option",{value:"inactive",children:"Inactive Only"}),a.jsx("option",{value:"active_inactive",children:"Active & Inactive"}),a.jsx("option",{value:"expired",children:"Expired Only"})]})]}),a.jsx("div",{className:"flex items-center",children:a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:F.include_sub_resellers,onChange:e=>T({...F,include_sub_resellers:e.target.checked})}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"}),a.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700 dark:text-gray-300",children:"Include Sub-resellers"})]})})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-gray-50 to-white dark:from-gray-700 dark:to-gray-800 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("h2",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[a.jsx(t,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),"Advanced Filters"]})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex gap-3 items-end flex-wrap",children:[a.jsxs("div",{className:"flex-1 min-w-[140px]",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Field"}),a.jsx("select",{className:"block w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm",value:O.field,onChange:e=>V({...O,field:e.target.value}),children:oe.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))})]}),a.jsxs("div",{className:"flex-1 min-w-[140px]",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Condition"}),a.jsx("select",{className:"block w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm",value:O.rule,onChange:e=>V({...O,rule:e.target.value}),children:ne.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))})]}),a.jsxs("div",{className:"flex-1 min-w-[160px]",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Value"}),a.jsx("input",{type:"text",className:"block w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm",value:O.value,onChange:e=>V({...O,value:e.target.value}),placeholder:"Enter value...",onKeyDown:e=>"Enter"===e.key&&se()})]}),a.jsxs("button",{onClick:se,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[a.jsx(i,{className:"w-4 h-4"}),"Add"]})]}),B.length>0&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Active filters:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:B.map((e,r)=>{var s,l;return a.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30 border border-blue-200 dark:border-blue-700 rounded-full text-sm",children:[a.jsx("span",{className:"font-medium text-blue-700 dark:text-blue-300",children:null==(s=oe.find(r=>r.value===e.field))?void 0:s.label}),a.jsx("span",{className:"text-blue-400 dark:text-blue-400",children:null==(l=ne.find(r=>r.value===e.rule))?void 0:l.label.split(" ")[0]}),a.jsxs("span",{className:"font-semibold text-blue-900 dark:text-blue-200",children:['"',e.value,'"']}),a.jsx("button",{onClick:()=>{return e=r,void D(B.filter((r,a)=>a!==e));var e},className:"ml-1 text-blue-400 hover:text-red-500 dark:hover:text-red-400 transition-colors",children:a.jsx(o,{className:"w-4 h-4"})})]},r)})})]})]})]})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 overflow-hidden sticky top-6",children:[a.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/30 dark:to-indigo-900/30 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("h2",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[a.jsx(A,{className:"w-5 h-5 text-purple-500"}),"Action to Perform"]})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Select Action"}),a.jsx("select",{className:"block w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-purple-500 focus:ring-purple-500",value:M,onChange:e=>{I(e.target.value),L("")},children:ie.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))})]}),M&&!["set_active","set_inactive","reset_mac"].includes(M)&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:null==(E=ie.find(e=>e.value===M))?void 0:E.label}),(()=>{switch(M){case"set_expiry":return a.jsx("input",{type:"date",className:"mt-1 block w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:focus:ring-blue-400",value:K,onChange:e=>L(e.target.value)});case"set_service":return a.jsxs("select",{className:"mt-1 block w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:focus:ring-blue-400",value:K,onChange:e=>L(e.target.value),children:[a.jsx("option",{value:"",children:"Select service..."}),null==X?void 0:X.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))]});case"set_reseller":return a.jsxs("select",{className:"mt-1 block w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:focus:ring-blue-400",value:K,onChange:e=>L(e.target.value),children:[a.jsx("option",{value:"",children:"Select reseller..."}),null==ee?void 0:ee.map(e=>{var r;return a.jsx("option",{value:e.id,children:(null==(r=e.User)?void 0:r.username)||e.company_name},e.id)})]});case"set_monthly_quota":return a.jsxs("div",{className:"relative mt-1",children:[a.jsx("input",{type:"number",className:"block w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 pr-12",placeholder:"Enter quota",value:K,onChange:e=>L(e.target.value)}),a.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 text-sm",children:"GB"})]});case"set_daily_quota":return a.jsxs("div",{className:"relative mt-1",children:[a.jsx("input",{type:"number",className:"block w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 pr-12",placeholder:"Enter quota",value:K,onChange:e=>L(e.target.value)}),a.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 text-sm",children:"MB"})]});case"set_price":return a.jsxs("div",{className:"relative mt-1",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400",children:"$"}),a.jsx("input",{type:"number",step:"0.01",className:"block w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 pl-7",placeholder:"0.00",value:K,onChange:e=>L(e.target.value)})]});default:return null}})()]}),M&&a.jsx("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/30 border border-amber-200 dark:border-amber-700 rounded-lg",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(b,{className:"w-5 h-5 text-amber-500 dark:text-amber-400 flex-shrink-0 mt-0.5"}),a.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:["set_active"===M&&"This will activate all matching subscribers.","set_inactive"===M&&"This will deactivate all matching subscribers.","set_expiry"===M&&"This will update the expiry date for all matching subscribers.","set_service"===M&&"This will change the service plan for all matching subscribers.","set_reseller"===M&&"This will transfer all matching subscribers to another reseller.","set_monthly_quota"===M&&"This will set the monthly quota limit for all matching subscribers.","set_daily_quota"===M&&"This will set the daily quota limit for all matching subscribers.","set_price"===M&&"This will update the price for all matching subscribers.","reset_mac"===M&&"This will reset the MAC address binding for all matching subscribers."]})]})}),a.jsxs("div",{className:"pt-4 space-y-3",children:[a.jsxs("button",{onClick:le,disabled:re.isPending,className:"w-full px-4 py-2.5 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors flex items-center justify-center gap-2 font-medium disabled:opacity-50",children:[a.jsx(S,{className:"w-5 h-5"}),re.isPending?"Loading Preview...":"Preview Changes"]}),a.jsxs("button",{onClick:()=>{M?!["set_expiry","set_service","set_reseller","set_monthly_quota","set_daily_quota","set_price"].includes(M)||K?J(!0):j.error("Please enter a value for the action"):j.error("Please select an action")},disabled:!M||ae.isPending,className:"w-full px-4 py-2.5 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:from-purple-700 hover:to-indigo-700 transition-all flex items-center justify-center gap-2 font-medium disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-purple-500/25",children:[(()=>{const e=ie.find(e=>e.value===M);if(null==e?void 0:e.icon){const r=e.icon;return a.jsx(r,{className:"w-5 h-5"})}return a.jsx(A,{className:"w-5 h-5"})})(),ae.isPending?"Executing...":"Execute Action"]})]})]})]})})]}),z&&z.length>0&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[a.jsxs("h2",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[a.jsx(x,{className:"w-5 h-5 text-green-500 dark:text-green-400"}),"Preview Results",a.jsxs("span",{className:"ml-2 px-2.5 py-0.5 bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 rounded-full text-sm font-medium",children:[Z," subscribers"]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Rows per page:"}),a.jsxs("select",{className:"rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm py-1",value:H,onChange:e=>{Q(parseInt(e.target.value)),W(1)},children:[a.jsx("option",{value:10,children:"10"}),a.jsx("option",{value:30,children:"30"}),a.jsx("option",{value:50,children:"50"}),a.jsx("option",{value:100,children:"100"})]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:de.getHeaderGroups().map(e=>a.jsx("tr",{children:e.headers.map(e=>a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider",children:f(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:de.getRowModel().rows.map((e,r)=>a.jsx("tr",{className:r%2==0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700",children:e.getVisibleCells().map(e=>a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300",children:f(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})}),Z>H&&a.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600 flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",(G-1)*H+1," to ",Math.min(G*H,Z)," of ",Z," results"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{className:"px-3 py-1.5 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",disabled:1===G,onClick:()=>{W(G-1),setTimeout(le,0)},children:[a.jsx(N,{className:"w-4 h-4"}),"Previous"]}),a.jsxs("span",{className:"px-4 py-1.5 text-sm font-medium text-gray-700 dark:text-gray-300",children:["Page ",G," of ",Math.ceil(Z/H)]}),a.jsxs("button",{className:"px-3 py-1.5 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",disabled:G>=Math.ceil(Z/H),onClick:()=>{W(G+1),setTimeout(le,0)},children:["Next",a.jsx(_,{className:"w-4 h-4"})]})]})]})]}),z&&0===z.length&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[a.jsx(d,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-1",children:"No subscribers found"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your filters to match more subscribers."})]}),Y&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl max-w-md w-full overflow-hidden",children:[a.jsx("div",{className:"p-6 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/30 dark:to-orange-900/30 border-b border-amber-200 dark:border-amber-700",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/50 rounded-full",children:a.jsx(b,{className:"w-6 h-6 text-amber-600 dark:text-amber-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Confirm Bulk Action"})]})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:["You are about to perform ",a.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:['"',null==(q=ie.find(e=>e.value===M))?void 0:q.label,'"']})," on",a.jsxs("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:[" ",Z||"all matching"," subscribers"]}),"."]}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"This action cannot be undone. Are you sure you want to continue?"})]}),a.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 flex gap-3 justify-end",children:[a.jsx("button",{onClick:()=>J(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-500 font-medium",children:"Cancel"}),a.jsx("button",{onClick:()=>{const e={...F,action:M,action_value:K,filters:B};ae.mutate(e)},disabled:ae.isPending,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium disabled:opacity-50 flex items-center gap-2",children:ae.isPending?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Executing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(u,{className:"w-4 h-4"}),"Yes, Execute"]})})]})]})})]})}export{T as default};
